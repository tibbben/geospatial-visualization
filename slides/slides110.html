<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="../common/css/reveal.css">
        <link rel="stylesheet" href="../common/css/white.css">
        <link rel="stylesheet" href="../common/css/overrides.css">
	    <script src="../common/java/print.js"></script>
        <title>Geospatial Visualization - 11</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <div class="reveal">
            <div class="slides">

              <section data-background-image="../common/assets/images/polygon_abstract.jpeg" data-background-size="fill" data-background-color="#000">

                <div style="position: absolute; left: 120px; top: 40px; font-size: 150%; line-height: 100%; color: #000 !important; text-align: left;text-shadow: 0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff,0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff;"><strong>Geospatial<br>  Visualization</strong></div>

                <div style="position: absolute; left: 300px; top: 220px; font-size: 90%; color: #000 !important;text-align: right;text-shadow: 0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff,0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff,0px 0px 13px #fff, 0px 0px 13px #fff, 0px 0px 13px #fff;">School of Architecture<br><span style="font-size: 80%;"><script>var today = new Date();document.write(today.toISOString().slice(0,10));</script></span></div>
                
                <div style="position: absolute; left: 500px; top: 400px; font-size: 50%; text-align: left; color: #000 !important; line-height: 145%;text-shadow: 0px 0px 7px #fff, 0px 0px 7px #fff, 0px 0px 7px #fff, 0px 0px 7px #fff,0px 0px 7px #fff, 0px 0px 7px #fff, 0px 0px 13px #fff;">Dr. Timothy Norris : <a href="mailto:tnorris@miami.edu" style="color: #000 !important;">tnorris@miami.edu</a><br>Christopher Mader : <a href="mailto:cmader@med.miami.edu" style="color: #000 !important;">cmader@med.miami.edu</a></div>
                
                <div style="position: absolute; left: 0px; top: 550px; font-size: 40%; text-align: right; color: #555; width: 280px;"></div>

              </section>

              <section data-transition="fade">
                <div class="template-title">SQL and Environmental/Social Justice (?)</div>
                <div style="max-width: 90%; margin: 0px auto; display: inline-block;">
                  <ul style="font-size: 80%; margin: 23px 0px 0px 0px;">
                    <li style="margin: 23px 0px 0px 0px;">Today' Outline
                      <ul style="font-size: 80%;">
                        <li style="margin-top: 13px;">Abigail Fleming<br>
                          <ul style="list-style-type: '- '; margin-left: -1em; font-style: italic">
                            <li>Environmental/Social Justice and GIS</li>
                            <li>University of Miami Environmental Justice Clinic, School of Law</li>
                          </ul>
                        </li>
                        <li style="margin-top: 13px;">Structured Query Language (SQL)<br>
                          <ul style="list-style-type: '- '; margin-left: -1em; font-style: italic">
                            <li>Relational Database Management Systems (RDBMS)</li>
                            <li>Joins: attribute and spatial</li>
                            <li>Select, Transform, Save</li>
                          </ul>
                        </li>
                        <li style="margin-top: 13px;">Overlay Tools<br>
                          <i>- Vector layer overlays</i><br>
                          <i>- Clipping</i>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <div class="template-citation" style="margin-top: -42px !important;"></div>
              </section>

              <section>

                <section data-transition="fade">
                  <div class="template-title">Structured Query Language (SQL)</div>
                  <div style="max-width: 80%; margin: 0px auto; display: inline-block;">
                    <img src="../common/assets/images/sql_join.png" style="max-height: 600px;"><br>
                    <ul style="font-size: 80%; margin: 0px 0px 0px 0px;">
                      <li style="margin: 0px 0px 0px 0px;">The Join: Relational and Spatial<br>
                        <p style="font-size: 0.85em;">The “Join” is a concept from the world of Relational Databases, SQL and set theory, but the term is used generally to talk about combining data from one or more entities based on the relationship between those entities. In the land of Relational Databases a Join is the intersection between two sets (tables/entities).</p>
                      </li>
                    </ul>
                  </div>
                  <div class="template-citation" style="margin-top: -42px !important;"></div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">Relational Join (attribute based)</div>
                  <div style="max-width: 80%; margin: 0px auto; display: inline-block;">
                    <img src="../common/assets/images/sql_join.png" style="max-height: 600px;"><br>
                    <ul style="font-size: 80%; margin: 0px 0px 0px 0px;">
                      <li style="margin: 0px 0px 0px 0px;"><b>SQL - Structured Query Language</b><br>
                        <p style="font-size: 0.85em;">Widely used even outside the world of strictly “relational” databases.  Created to operate on Relational Databases to retrieve and manipulate data.<br><br>SQL is often used for data analytic purposes  - to aggregate values, sort, group, etc.</p>
                      </li>
                    </ul>
                  </div>
                  <div class="template-citation" style="margin-top: -42px !important;"></div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">SQL</div>
                  <div style="max-width: 80%; margin: 0px auto; display: inline-block;">
                    <img src="../common/assets/images/sql_join.png" style="max-height: 600px;"><br>
                    <pre style="font-size: 0.75em; line-height: 1.6em; padding: 13px;"><b>SELECT</b> watch_warning.extent, watch_warning.type<br><b>FROM</b> hurricane, advisory, watch_warning<br><b>WHERE</b> hurricane.name = “Ian”<br><b>AND</b> hurricane.h_id = advisory.h_id<br><b>AND</b> advisory.ad_id = watch_warning.ad_id</pre>
                  </div>
                  <div class="template-citation" style="margin-top: -42px !important;"></div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">SQL</div>
                  <div style="max-width: 80%; margin: 0px auto; display: inline-block;">
                    <img src="../common/assets/images/sql_join.png" style="max-height: 600px;"><br>
                    <pre style="font-size: 0.75em; line-height: 1.6em; padding: 13px;"><b>SELECT</b> watch_warning.type, <b>COUNT(*)</b><br><b>FROM</b> hurricane, advisory, watch_warning<br><b>WHERE</b> hurricane.name = “Ian”<br><b>AND</b> hurricane.h_id = advisory.h_id<br><b>AND</b> advisory.ad_id = watch_warning.ad_id<br><b>GROUP</b> BY watch_warning.type</pre>
                  </div>
                  <div class="template-citation" style="margin-top: -42px !important;"></div>
                  <pre class="fragment" style="position: absolute; top: 380px; right: 50px; font-size: 0.6em; font-family: arial; background-color: #fff; padding: 13px; width: 320px;">TROP STORM WATCH, 2<br>HURRICANE WATCH, 5<br>TROP STORM WARNING, 1<br>HURRICANE WARNING, 10</pre>
                </section>

                <section data-transition="fade">
                  <div class="template-title">Spatial Join</div>
                  <div style="max-width: 80%; margin: 0px auto; display: inline-block;">
                    <img src="../common/assets/images/sql_join.png">
                    <p style="font-size: 0.85em; margin-top: 0px !important">Analogous to a relational Join, but uses spatial attributes to accomplish the Join. GIS facilitates this kind of Join.</p>
                    <img src="../common/assets/images/sql_spatialjoin.png" style="max-width: 1350px; width: 1350px; margin-left: -140px"><br>
                  </div>
                  <div class="template-citation" style="margin-top: -42px !important;"></div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">Spatial Join</div>
                  <div style="max-width: 80%; margin: 0px auto; display: inline-block;">
                    <img src="../common/assets/images/sql_spatialjoin.png" style="max-width: 1350px; width: 1350px; margin-left: -140px"><br>
                    <pre style="font-size: 0.75em; line-height: 1.6em; padding: 13px;"><b>SELECT</b> watch_warning.type, <b>COUNT(*)</b><br><b>FROM</b> hurricane, advisory, watch_warning<br><b>WHERE</b> hurricane.name = “Ian”<br><b>AND</b> hurricane.h_id = advisory.h_id<br><b>AND</b> advisory.ad_id = watch_warning.ad_id<br><b>AND st_within</b>(city.postion, watch_warning.extent)<br><b>GROUP</b> BY watch_warning.type</pre>
                  </div>
                  <div class="template-citation" style="margin-top: -42px !important;"></div>
                  <pre class="fragment" style="position: absolute; top: 380px; right: 50px; font-size: 0.6em; font-family: arial; background-color: #fff; padding: 13px; width: 320px;">TROP STORM WATCH, 1<br>HURRICANE WATCH, 1<br>TROP STORM WARNING, 1<br>HURRICANE WARNING, 2</pre>
                </section>

              </section>

              <section>

                <section data-transition="fade">
                  <div class="template-title">Vector Data Overlays</div>
                  <div style="max-width: 80%; margin: 0px auto; display: inline-block;">
                    <div style="float:left; margin-right: 120px;">
                      <ul style="font-size: 80%; margin: 23px 0px 0px 0px;">
                        <li style="margin: 23px 0px 0px 0px;">Data Structures: Connection and Transformation
                          <ul style="font-size: 80%;">
                            <li style="margin-top: 13px;">Overlay tools<br>
                              <ul style="list-style-type: '- '; margin-left: -1em; font-style: italic">
                                <li><b>Intersect</b></li>
                                <li><b>Union</b></li>
                                <li><b>Subtract</b></li>
                                <li style="margin-top: 13px;">Symmetric Difference</li>
                                <li>Identity</li>
                                <li>Cover</li>
                              </ul>
                            </li>
                            <li style="margin-top: 13px;"><b>Clipping</b><br>
                              <i>- Sub-setting data with polygons</i><br>
                              <i>- Raster or vector</i>
                            </li>
                          </ul>
                        </li>
                      </ul>
                    </div>
                    <div style="float: right;">
                      <img src="../common/assets/images/Overlay_wikiGIS.png" style="max-height: 600px;">
                    </div>
                  </div>
                  <div class="template-citation" style="margin-top: -42px !important;">image credit: Overlay. <a href="http://wiki.gis.com/wiki/index.php/Overlay">wiki.GIS.com</a></div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">Intersection of Two Vector Layers</div>
                  <div>
                    <ul style="font-size: 60%;">
                      <li style="margin-top: 13px;">Only geometries and attributes that overlap are preserved<br>
                        <i>- Attributes from both layers copied to new feature</i><br>
                        <i>- Output geometry is lowest dimension of input geometries</i>
                      </li>
                      <li style="margin-top: 13px;"><b>Ratio</b> (ArcGIS) or <b>Overlap</b> (QGIS) analysis<br>
                        <i>- Attributes calculated as percentage of original area for each new polygon</i><br>
                        <img src ="../common/assets/images/ArcGISIntersect-web.gif">
                      </li>
                      <li>Two rectangles in one layer and one circle in second layer<br>
                        <i>- Three features in two layers to begin</i><br>
                        <i>- Two features in one layer as a result</i>
                      </li>
                      <li style="margin-top: 13px;">Similar to logical <b>AND</b></li>      
                    </ul>
                  </div>
                  <div class="template-citation" style="margin-top: 42px !important;">Intersect (Analysis). <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/intersect.htm">ArcGIS Pro Help</a>.Calculating percentage of overlap of two layers in QGIS 3. <a href="https://gis.stackexchange.com/questions/339929/calculating-percentage-of-overlap-of-two-layers-in-qgis-3">GIS StackExchange</a></div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">Union of Two Vector Layers</div>
                  <div>
                    <ul style="font-size: 60%;">
                      <li style="margin-top: 13px;">All geometries and attributes preserved<br>
                        <i>- FID's are labelled according to layer names</i><br>
                        <i>- All features are of original size or smaller (never larger)</i>
                      </li>
                      <li style="margin-top: 13px;"><b>Ratio</b> (ArcGIS) or <b>Overlap</b> (QGIS) analysis<br>
                        <i>- Attributes calculated as percentage of original area for each new polygon</i><br>
                        <img src ="../common/assets/images/ArcGISUnion-web.gif">
                      </li>
                      <li>Two rectangles in one layer and one circle in second layer<br>
                        <i>- Three features in two layers to begin</i><br>
                        <i>- Five features in one layer as a result</i>
                      </li>
                      <li style="margin-top: 13px;">Similar to logical <b>OR</b></li>      
                    </ul>
                  </div>
                  <div class="template-citation" style="margin-top: 42px !important;">Union (Analysis). <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/union.htm">ArcGIS Pro Help</a>.<br>Overlay. <a href="http://wiki.gis.com/wiki/index.php/Overlay">wiki.GIS.com</a></div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">Erase (Subtract) of Two Vector Layers</div>
                  <div>
                    <ul style="font-size: 60%;">
                      <li style="margin-top: 13px;">Only geometries and attributes from input preserved<br>
                        <i>- All features are of original size or smaller (never larger)</i>
                      </li>
                      <li style="margin-top: 13px;"><b>Ratio</b> (ArcGIS) or <b>Overlap</b> (QGIS) analysis<br>
                        <i>- Attributes calculated as percentage of original area for each new polygon</i><br>
                        <img src ="../common/assets/images/ArcGISErase-web.gif">
                      </li>
                      <li>Four polygons one layer and one square in second layer<br>
                        <i>- Five features in two layers to begin</i><br>
                        <i>- Four features in one layer as a result (with multipart)</i>
                      </li>
                      <li style="margin-top: 13px;">Similar to logical <b>AND NOT</b></li>      
                    </ul>
                  </div>
                  <div class="template-citation" style="margin-top: 42px !important;">Erase (Analysis). <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/erase.htm">ArcGIS Pro Help</a>.</div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">Less common Operations on Two Vector Layers</div>
                  <div style="max-width: 90%; margin: 0px auto; display: inline-block;">
                    <div style="max-width: 70%; float: left;">
                      <ul style="font-size: 60%;">
                        <li style="margin-top: 13px;">Symmetric Difference<br>
                          <i>- All geometries and attributes that do not co-exist are preserved</i><br>
                          <i>- Similar to logical <b>XOR</b></i><br>
                          <i>- (A union B) subtract (A intersect B)</i>
                        </li>
                        <li style="margin-top: 35px;">Identity<br>
                          <i>- Extent of input with geometry and attributes from both layers merged</i><br>
                          <i>- (A subtract B) union (A intersect B)</i>
                        </li>
                        <li style="margin-top: 65px;">Cover or Update<br>
                          <i>- Similar to union in extent, but only preserves input geometry and attributes if feature not in update, otherwise copies update attributes to new geometry</i><br>
                          <i>- A union (B subtract A)</i>
                        </li>   
                      </ul>
                    </div>
                    <div style="float: right;">
                      <img src="../common/assets/images/ArcMapSD-web.gif" style="max-height: 120px;"><br>
                      <img src="../common/assets/images/ArcGISIdentity-web.gif" style="max-height: 140px;"><br>
                      <img src="../common/assets/images/ArcGISUpdate-web.gif" style="max-height: 140px;">
                    </div>
                  </div>
                  <div class="template-citation">Overlay. <a href="http://wiki.gis.com/wiki/index.php/Overlay">wiki.GIS.com</a><br>Identity (Analysis). <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/identity.htm">ArcGIS Pro Help.</a><br>Update (Analysis). <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/update.htm">ArGIS Pro Help</a><br>Symmetrical Difference. <a href="https://desktop.arcgis.com/en/arcmap/10.3/tools/analysis-toolbox/symmetrical-difference.htm">ArcMap Help</a></div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">Clip Vector with Vector (crop)</div>
                  <div>
                    <ul style="font-size: 60%;">
                      <li style="margin-top: 13px;">Only geometries and attributes from input preserved<br>
                        <i>- All features are of original size or smaller (never larger)</i>
                      </li>
                      <li style="margin-top: 13px;">Both input and clip features can be points lines or polygons<br>
                        <i>- Be careful of unexpected results</i><br>
                        <img src ="../common/assets/images/ArcGISClip-web.png">
                      </li>
                      <li>Four polygons and two points in one layer and one circle in clip layer<br>
                        <i>- Seven features in two layers to begin</i><br>
                        <i>- Four features in one layer as a result (with multi geometries)</i>
                      </li>     
                    </ul>
                  </div>
                  <div class="template-citation" style="margin-top: 42px !important;">Clipping line layer based on polygons with QGIS? <a href="https://gis.stackexchange.com/questions/78835/clipping-line-layer-based-on-polygons-with-qgis">GIS StackExchange</a>.<br>Clip (Analysis). <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/clip.htm">ArcGIS Pro Help</a>.</div>
                </section>

                <section data-transition="fade">
                  <div class="template-title">Clip Raster with Vector</div>
                  <div>
                    <ul style="font-size: 60%;">
                      <li style="margin-top: 13px;">Must use one vector feature to clip
                      </li>
                      <li style="margin-top: 13px;">Make sure projections are the same<br>
                        <i>- It will function across projections, but makes computer work harder</i><br>
                        <img src ="../common/assets/images/ArcGISClip-web.gif">
                      </li>
                      <li>Does not have to be rectangle<br>
                        <i>- Hence not "crop"</i><br>
                        <img src="../common/assets/images/QGISClip.png" style="margin-top: -100px; margin-left: 320px;"></li>      
                    </ul>
                  </div>
                  <div class="template-citation">Clip Raster (Data Management). <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/data-management/clip.htm">ArcGIS Pro Help</a>.<br>Clipping raster with vector boundaries using QGIS. <a href="https://gis.stackexchange.com/questions/10117/clipping-raster-with-vector-boundaries-using-qgis">GIS StackExchange</a>.</div>
                </section>

              </section> 

            </div>
        </div>
        <script src="../common/java/reveal.js"></script>
	    <script src="../common/java/notes.js"></script>
	    <script src="../common/java/head.min.js"></script>
        <script>
            Reveal.initialize({
                width: 1366, height: 768, margin: 0.05,
                controls: true,
				progress: true,
				history: true,
				center: true,
				mouseWheel: true,
				chart: {
					defaults: { 
						global: { 
							defaultFontSize: 20,
							title: { fontColor: "#333" }, 
							legend: {
								position: "top",
								labels: { fontColor: "#333" },
							},
							tooltips: {
								labels: { fontColor: "#333" },
							},
						}, 
						scale: { 
							scaleLabel: { fontColor: "#333" }, 
							gridLines: { color: "#333", zeroLineColor: "#333" }, 
							ticks: { fontColor: "#333" }, 
						} 
					},
				},
                dependencies: [
                    { src: '../common/java/Chart.min.js' },
                    { src: '../common/java/csv2chart.js' }
                ] 
            });
        </script>
    </body>
</html>
